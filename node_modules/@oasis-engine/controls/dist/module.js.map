{"version":3,"file":"module.js","sources":["../src/Spherical.ts","../src/FreeControl.ts","../src/OrbitControl.ts","../src/OrthoControl.ts"],"sourcesContent":["import { Vector3, MathUtil } from \"oasis-engine\";\n\n// Prevent gimbal lock.\nconst ESP = MathUtil.zeroTolerance;\n\n// Spherical.\nexport class Spherical {\n  public radius;\n  public phi;\n  public theta;\n\n  constructor(radius?, phi?, theta?) {\n    this.radius = radius !== undefined ? radius : 1.0;\n    this.phi = phi !== undefined ? phi : 0;\n    this.theta = theta !== undefined ? theta : 0;\n  }\n\n  set(radius, phi, theta) {\n    this.radius = radius;\n    this.phi = phi;\n    this.theta = theta;\n\n    return this;\n  }\n\n  makeSafe() {\n    this.phi = MathUtil.clamp(this.phi, ESP, Math.PI - ESP);\n    return this;\n  }\n\n  setFromVec3(v3: Vector3) {\n    this.radius = v3.length();\n    if (this.radius === 0) {\n      this.theta = 0;\n      this.phi = 0;\n    } else {\n      this.theta = Math.atan2(v3.x, v3.z);\n      this.phi = Math.acos(MathUtil.clamp(v3.y / this.radius, -1, 1));\n    }\n\n    return this;\n  }\n\n  setToVec3(v3: Vector3) {\n    const sinPhiRadius = Math.sin(this.phi) * this.radius;\n\n    v3.x = sinPhiRadius * Math.sin(this.theta);\n    v3.y = Math.cos(this.phi) * this.radius;\n    v3.z = sinPhiRadius * Math.cos(this.theta);\n\n    return this;\n  }\n}\n","import { Entity, MathUtil, Script, Vector3 } from \"oasis-engine\";\nimport { Spherical } from \"./Spherical\";\n\n// Prevent universal lock.\nconst ESP = MathUtil.zeroTolerance;\n\nfunction includes(array, ...filterArray) {\n  return filterArray.some((e) => array.indexOf(e) !== -1);\n}\n\n/**\n * The camera's roaming controller, can move up and down, left and right, and rotate the viewing angle.\n */\nexport class FreeControl extends Script {\n  _forward = new Vector3();\n  _right = new Vector3();\n  camera: Entity;\n  mainElement: any;\n  domElement: any;\n\n  /**\n   * Movement distance per second, the unit is the unit before MVP conversion.\n   */\n  movementSpeed: number;\n\n  /**\n   * Rotate speed.\n   */\n  rotateSpeed: number;\n\n  /**\n   * Simulate a ground.\n   */\n  floorMock: boolean;\n\n  /**\n   * Simulated ground height.\n   */\n  floorY: number;\n\n  /**\n   * Only rotate when press=true\n   */\n  press: boolean;\n  keysForward: Array<string | number>;\n  keysBackward: Array<string | number>;\n  keysLeft: Array<string | number>;\n  keysRight: Array<string | number>;\n\n  /**\n   * Radian of spherical.theta.\n   */\n  private _theta: number;\n\n  /**\n   * Radian of spherical.phi.\n   */\n  private _phi: number;\n\n  private _moveForward: boolean;\n  private _moveBackward: boolean;\n  private _moveLeft: boolean;\n  private _moveRight: boolean;\n\n  private _v3Cache: Vector3;\n  private _spherical: Spherical;\n  private _rotateOri: Array<number>;\n  private _events: Array<{ type: string; listener: () => {}; element?: any }>;\n\n  constructor(entity: Entity) {\n    super(entity);\n    this.camera = entity;\n    // @ts-ignore\n    // @todo In the future, the dependence on html elements will be removed and realized through the input of the packaging engine.\n    this.mainElement = this.scene.engine.canvas._webCanvas;\n    this.domElement = document;\n\n    this.movementSpeed = 1.0;\n    this.rotateSpeed = 1.0;\n\n    this.floorMock = true;\n    this.floorY = 0;\n\n    this.press = false;\n\n    this.keysForward = [\"KeyW\", \"ArrowUp\"];\n    this.keysBackward = [\"KeyS\", \"ArrowDown\"];\n    this.keysLeft = [\"KeyA\", \"ArrowLeft\"];\n    this.keysRight = [\"KeyD\", \"ArrowRight\"];\n\n    this._theta = 0;\n    this._phi = 0;\n\n    // private variables\n    this._moveForward = false;\n    this._moveBackward = false;\n    this._moveLeft = false;\n    this._moveRight = false;\n\n    this._v3Cache = new Vector3();\n    this._spherical = new Spherical();\n    this._rotateOri = [0, 0];\n\n    this._events = [\n      { type: \"mousemove\", listener: this.onMouseMove.bind(this) },\n      { type: \"touchmove\", listener: this.onMouseMove.bind(this) },\n      { type: \"mousedown\", listener: this.onMouseDown.bind(this) },\n      { type: \"touchstart\", listener: this.onMouseDown.bind(this) },\n      { type: \"mouseup\", listener: this.onMouseUp.bind(this) },\n      { type: \"touchend\", listener: this.onMouseUp.bind(this) },\n      { type: \"keydown\", listener: this.onKeyDown.bind(this), element: window },\n      { type: \"keyup\", listener: this.onKeyUp.bind(this), element: window },\n      { type: \"contextmenu\", listener: this.onContextMenu.bind(this) }\n    ];\n\n    this.initEvents();\n\n    // init spherical\n    this.updateSpherical();\n  }\n\n  /**\n   * Browser right click event.\n   */\n  onContextMenu(event): void {\n    event.preventDefault();\n  }\n\n  /**\n   * Keyboard press event.\n   */\n  onKeyDown(event): void {\n    const { code, key, keyCode } = event;\n    if (includes(this.keysForward, code, key, keyCode)) {\n      this._moveForward = true;\n    } else if (includes(this.keysBackward, code, key, keyCode)) {\n      this._moveBackward = true;\n    } else if (includes(this.keysLeft, code, key, keyCode)) {\n      this._moveLeft = true;\n    } else if (includes(this.keysRight, code, key, keyCode)) {\n      this._moveRight = true;\n    }\n  }\n\n  /**\n   * Keyboard up event.\n   */\n  onKeyUp(event): void {\n    const { code, key, keyCode } = event;\n    if (includes(this.keysForward, code, key, keyCode)) {\n      this._moveForward = false;\n    } else if (includes(this.keysBackward, code, key, keyCode)) {\n      this._moveBackward = false;\n    } else if (includes(this.keysLeft, code, key, keyCode)) {\n      this._moveLeft = false;\n    } else if (includes(this.keysRight, code, key, keyCode)) {\n      this._moveRight = false;\n    }\n  }\n\n  /**\n   * Mouse press event.\n   */\n  onMouseDown(event): void {\n    event.stopPropagation();\n    event = (event.changedTouches && event.changedTouches[0]) || event;\n\n    if (this.domElement !== document) {\n      this.domElement.focus();\n    }\n\n    this.press = true;\n    this._rotateOri = [event.clientX, event.clientY];\n  }\n\n  /**\n   * Mouse up event.\n   */\n  onMouseUp(event): void {\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.press = false;\n  }\n\n  /**\n   * Mouse movement event.\n   */\n  onMouseMove(event): void {\n    if (this.press === false) return;\n    if (this.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n    event = (event.changedTouches && event.changedTouches[0]) || event;\n\n    const movementX = event.clientX - this._rotateOri[0];\n    const movementY = event.clientY - this._rotateOri[1];\n    this._rotateOri[0] = event.clientX;\n    this._rotateOri[1] = event.clientY;\n    const factorX = 180 / this.mainElement.width;\n    const factorY = 180 / this.mainElement.height;\n    const actualX = movementX * factorX;\n    const actualY = movementY * factorY;\n\n    this.rotate(-actualX, actualY);\n  }\n\n  /**\n   * The angle of rotation around the y axis and the x axis respectively.\n   * @param alpha - Radian to rotate around the y axis\n   * @param beta - Radian to rotate around the x axis\n   */\n  rotate(alpha: number = 0, beta: number = 0): void {\n    this._theta += MathUtil.degreeToRadian(alpha);\n    this._phi += MathUtil.degreeToRadian(beta);\n    this._phi = MathUtil.clamp(this._phi, ESP, Math.PI - ESP);\n    this._spherical.theta = this._theta;\n    this._spherical.phi = this._phi;\n    this._spherical.setToVec3(this._v3Cache);\n    Vector3.add(this.camera.transform.position, this._v3Cache, this._v3Cache);\n    this.camera.transform.lookAt(this._v3Cache, new Vector3(0, 1, 0));\n  }\n\n  onUpdate(delta: number): void {\n    if (this.enabled === false) return;\n\n    const actualMoveSpeed = (delta / 1000) * this.movementSpeed;\n    this.camera.transform.getWorldForward(this._forward);\n    this.camera.transform.getWorldRight(this._right);\n\n    if (this._moveForward) {\n      this.camera.transform.translate(this._forward.scale(actualMoveSpeed), false);\n    }\n    if (this._moveBackward) {\n      this.camera.transform.translate(this._forward.scale(-actualMoveSpeed), false);\n    }\n    if (this._moveLeft) {\n      this.camera.transform.translate(this._right.scale(-actualMoveSpeed), false);\n    }\n    if (this._moveRight) {\n      this.camera.transform.translate(this._right.scale(actualMoveSpeed), false);\n    }\n\n    if (this.floorMock) {\n      const position = this.camera.transform.position;\n      if (position.y !== this.floorY) {\n        this.camera.transform.setPosition(position.x, this.floorY, position.z);\n      }\n    }\n  }\n\n  /**\n   * Register browser events.\n   */\n  initEvents(): void {\n    this._events.forEach((ele) => {\n      if (ele.element) {\n        ele.element.addEventListener(ele.type, ele.listener, false);\n      } else {\n        this.mainElement.addEventListener(ele.type, ele.listener, false);\n      }\n    });\n  }\n\n  onDestroy(): void {\n    this._events.forEach((ele) => {\n      if (ele.element) {\n        ele.element.removeEventListener(ele.type, ele.listener, false);\n      } else {\n        this.mainElement.removeEventListener(ele.type, ele.listener, false);\n      }\n    });\n  }\n\n  /**\n   * must updateSpherical after quaternion has been changed\n   * @example\n   * Entity#lookAt([0,1,0],[0,1,0]);\n   * AFreeControls#updateSpherical();\n   */\n  updateSpherical(): void {\n    this._v3Cache.setValue(0, 0, -1);\n    Vector3.transformByQuat(this._v3Cache, this.camera.rotation, this._v3Cache);\n    this._spherical.setFromVec3(this._v3Cache);\n    this._theta = this._spherical.theta;\n    this._phi = this._spherical.phi;\n  }\n}\n","\"use strict\";\nimport { Entity, Matrix, Script, Vector2, Vector3 } from \"oasis-engine\";\nimport { Spherical } from \"./Spherical\";\n\n/**\n * The camera's track controller, can rotate, zoom, pan, support mouse and touch events.\n */\nexport class OrbitControl extends Script {\n  camera: Entity;\n  domElement: HTMLElement | Document;\n  mainElement: HTMLCanvasElement;\n  fov: number;\n  target: Vector3;\n  up: Vector3;\n  minDistance: number;\n  maxDistance: number;\n  minZoom: number;\n  maxZoom: number;\n  enableDamping: boolean;\n  zoomFactor: number;\n  enableRotate: boolean;\n  keyPanSpeed: number;\n  minPolarAngle: number;\n  maxPolarAngle: number;\n  minAzimuthAngle: number;\n  maxAzimuthAngle: number;\n  enableZoom: boolean;\n  dampingFactor: number;\n  zoomSpeed: number;\n  enablePan: boolean;\n  autoRotate: boolean;\n  /** The radian of automatic rotation per second. */\n  autoRotateSpeed: number = Math.PI;\n  rotateSpeed: number;\n  enableKeys: boolean;\n  keys: { LEFT: number; RIGHT: number; UP: number; BOTTOM: number };\n  mouseButtons: { ORBIT: number; ZOOM: number; PAN: number };\n  touchFingers: { ORBIT: number; ZOOM: number; PAN: number };\n  STATE: {\n    TOUCH_ROTATE: number;\n    ROTATE: number;\n    TOUCH_PAN: number;\n    ZOOM: number;\n    NONE: number;\n    PAN: number;\n    TOUCH_ZOOM: number;\n  };\n  mouseUpEvents: { listener: any; type: string }[];\n  constEvents: { listener: any; type: string; element?: Window }[];\n\n  private _position: Vector3;\n  private _offset: Vector3;\n  private _spherical: Spherical;\n  private _sphericalDelta: Spherical;\n  private _sphericalDump: Spherical;\n  private _zoomFrag: number;\n  private _scale: number;\n  private _panOffset: Vector3;\n  private _isMouseUp: boolean;\n  private _vPan: Vector3;\n  private _state: any;\n  private _rotateStart: Vector2;\n  private _rotateEnd: Vector2;\n  private _rotateDelta: Vector2;\n  private _panStart: Vector2;\n  private _panEnd: Vector2;\n  private _panDelta: Vector2;\n  private _zoomStart: Vector2;\n  private _zoomEnd: Vector2;\n  private _zoomDelta: Vector2;\n\n  constructor(entity: Entity) {\n    super(entity);\n\n    this.camera = entity;\n    // @ts-ignore\n    // @todo In the future, the dependence on html elements will be removed and realized through the input of the packaging engine.\n    this.mainElement = this.engine.canvas._webCanvas;\n    this.domElement = document;\n    this.fov = 45;\n\n    // Target position.\n    this.target = new Vector3();\n\n    // Up vector\n    this.up = new Vector3(0, 1, 0);\n\n    /**\n     * The minimum distance, the default is 0.1, should be greater than 0.\n     */\n    this.minDistance = 0.1;\n    /**\n     * The maximum distance, the default is infinite, should be greater than the minimum distance\n     */\n    this.maxDistance = Infinity;\n\n    /**\n     * Minimum zoom speed, the default is 0.0.\n     * @member {Number}\n     */\n    this.minZoom = 0.0;\n\n    /**\n     * Maximum zoom speed, the default is positive infinity.\n     */\n    this.maxZoom = Infinity;\n\n    /**\n     * The minimum radian in the vertical direction, the default is 0 radian, the value range is 0 - Math.PI.\n     */\n    this.minPolarAngle = 0;\n\n    /**\n     * The maximum radian in the vertical direction, the default is Math.PI, and the value range is 0 - Math.PI.\n     */\n    this.maxPolarAngle = Math.PI;\n\n    /**\n     * The minimum radian in the horizontal direction, the default is negative infinity.\n     */\n    this.minAzimuthAngle = -Infinity;\n\n    /**\n     * The maximum radian in the horizontal direction, the default is positive infinity.\n     */\n    this.maxAzimuthAngle = Infinity;\n\n    /**\n     * Whether to enable camera damping, the default is true.\n     */\n    this.enableDamping = true;\n\n    /**\n     * Rotation damping parameter, default is 0.1 .\n     */\n    this.dampingFactor = 0.1;\n\n    /**\n     * Zoom damping parameter, default is 0.2 .\n     */\n    this.zoomFactor = 0.2;\n\n    /**\n     * Whether to enable zoom, the default is true.\n     */\n    this.enableZoom = true;\n\n    /**\n     * Camera zoom speed, the default is 1.0.\n     */\n    this.zoomSpeed = 1.0;\n\n    /**\n     * Whether to enable rotation, the default is true.\n     */\n    this.enableRotate = true;\n\n    /**\n     * Rotation speed, default is 1.0 .\n     */\n    this.rotateSpeed = 1.0;\n\n    /**\n     * Whether to enable translation, the default is true.\n     */\n    this.enablePan = true;\n\n    /**\n     * Keyboard translation speed, the default is 7.0 .\n     */\n    this.keyPanSpeed = 7.0;\n\n    /**\n     * Whether to automatically rotate the camera, the default is false.\n     */\n    this.autoRotate = false;\n\n    /**\n     * Whether to enable keyboard.\n     */\n    this.enableKeys = false;\n    this.keys = {\n      LEFT: 37,\n      UP: 38,\n      RIGHT: 39,\n      BOTTOM: 40\n    };\n\n    // Control keys.\n    this.mouseButtons = {\n      ORBIT: 0,\n      ZOOM: 1,\n      PAN: 2\n    };\n\n    this.touchFingers = {\n      ORBIT: 1,\n      ZOOM: 2,\n      PAN: 3\n    };\n\n    // Reuse objects to prevent excessive stack allocation.\n    // update\n    this._position = new Vector3();\n    this._offset = new Vector3();\n    this._spherical = new Spherical();\n    this._sphericalDelta = new Spherical();\n    this._sphericalDump = new Spherical();\n    this._zoomFrag = 0;\n    this._scale = 1;\n    this._panOffset = new Vector3();\n    this._isMouseUp = true;\n\n    // pan\n    this._vPan = new Vector3();\n\n    // state\n    this._rotateStart = new Vector2();\n    this._rotateEnd = new Vector2();\n    this._rotateDelta = new Vector2();\n\n    this._panStart = new Vector2();\n    this._panEnd = new Vector2();\n    this._panDelta = new Vector2();\n\n    this._zoomStart = new Vector2();\n    this._zoomEnd = new Vector2();\n    this._zoomDelta = new Vector2();\n\n    this.STATE = {\n      NONE: -1,\n      ROTATE: 0,\n      ZOOM: 1,\n      PAN: 2,\n      TOUCH_ROTATE: 3,\n      TOUCH_ZOOM: 4,\n      TOUCH_PAN: 5\n    };\n    this._state = this.STATE.NONE;\n\n    this.constEvents = [\n      { type: \"mousedown\", listener: this.onMouseDown.bind(this) },\n      { type: \"wheel\", listener: this.onMouseWheel.bind(this) },\n      { type: \"keydown\", listener: this.onKeyDown.bind(this), element: window },\n      { type: \"touchstart\", listener: this.onTouchStart.bind(this) },\n      { type: \"touchmove\", listener: this.onTouchMove.bind(this) },\n      { type: \"touchend\", listener: this.onTouchEnd.bind(this) },\n      { type: \"contextmenu\", listener: this.onContextMenu.bind(this) }\n    ];\n\n    this.mouseUpEvents = [\n      { type: \"mousemove\", listener: this.onMouseMove.bind(this) },\n      { type: \"mouseup\", listener: this.onMouseUp.bind(this) }\n    ];\n\n    this.constEvents.forEach((ele) => {\n      if (ele.element) {\n        ele.element.addEventListener(ele.type, ele.listener, false);\n      } else {\n        this.mainElement.addEventListener(ele.type, ele.listener, false);\n      }\n    });\n  }\n\n  onDisable(): void {\n    const element = this.domElement === document ? this.domElement.body : this.domElement;\n    this.mainElement.removeEventListener(this.mouseUpEvents[0].type, this.mouseUpEvents[0].listener, false);\n    element.removeEventListener(this.mouseUpEvents[1].type, this.mouseUpEvents[1].listener, false);\n  }\n\n  onDestroy() {\n    this.constEvents.forEach((ele) => {\n      if (ele.element) {\n        ele.element.removeEventListener(ele.type, ele.listener, false);\n      } else {\n        this.mainElement.removeEventListener(ele.type, ele.listener, false);\n      }\n    });\n    const element = this.domElement === document ? this.domElement.body : this.domElement;\n    this.mainElement.removeEventListener(this.mouseUpEvents[0].type, this.mouseUpEvents[0].listener, false);\n    element.removeEventListener(this.mouseUpEvents[1].type, this.mouseUpEvents[1].listener, false);\n  }\n\n  onUpdate(dtime) {\n    if (!this.enabled) return;\n\n    const position: Vector3 = this.camera.transform.position;\n    position.cloneTo(this._offset);\n    this._offset.subtract(this.target);\n    this._spherical.setFromVec3(this._offset);\n\n    if (this.autoRotate && this._state === this.STATE.NONE) {\n      this.rotateLeft(this.getAutoRotationAngle(dtime));\n    }\n\n    this._spherical.theta += this._sphericalDelta.theta;\n    this._spherical.phi += this._sphericalDelta.phi;\n\n    this._spherical.theta = Math.max(this.minAzimuthAngle, Math.min(this.maxAzimuthAngle, this._spherical.theta));\n    this._spherical.phi = Math.max(this.minPolarAngle, Math.min(this.maxPolarAngle, this._spherical.phi));\n    this._spherical.makeSafe();\n\n    if (this._scale !== 1) {\n      this._zoomFrag = this._spherical.radius * (this._scale - 1);\n    }\n\n    this._spherical.radius += this._zoomFrag;\n    this._spherical.radius = Math.max(this.minDistance, Math.min(this.maxDistance, this._spherical.radius));\n\n    this.target.add(this._panOffset);\n    this._spherical.setToVec3(this._offset);\n    this.target.cloneTo(this._position);\n    this._position.add(this._offset);\n\n    this.camera.transform.position = this._position;\n    this.camera.transform.lookAt(this.target, this.up);\n\n    if (this.enableDamping === true) {\n      this._sphericalDump.theta *= 1 - this.dampingFactor;\n      this._sphericalDump.phi *= 1 - this.dampingFactor;\n      this._zoomFrag *= 1 - this.zoomFactor;\n\n      if (this._isMouseUp) {\n        this._sphericalDelta.theta = this._sphericalDump.theta;\n        this._sphericalDelta.phi = this._sphericalDump.phi;\n      } else {\n        this._sphericalDelta.set(0, 0, 0);\n      }\n    } else {\n      this._sphericalDelta.set(0, 0, 0);\n      this._zoomFrag = 0;\n    }\n\n    this._scale = 1;\n    this._panOffset.setValue(0, 0, 0);\n  }\n\n  /**\n   * Get the radian of automatic rotation.\n   */\n  getAutoRotationAngle(dtime: number) {\n    return (this.autoRotateSpeed / 1000) * dtime;\n  }\n\n  /**\n   * Get zoom value.\n   */\n  getZoomScale() {\n    return Math.pow(0.95, this.zoomSpeed);\n  }\n\n  /**\n   * Rotate to the left by a certain radian.\n   * @param radian - Radian value of rotation\n   */\n  rotateLeft(radian: number) {\n    this._sphericalDelta.theta -= radian;\n    if (this.enableDamping) {\n      this._sphericalDump.theta = -radian;\n    }\n  }\n\n  /**\n   * Rotate to the right by a certain radian.\n   * @param radian - Radian value of rotation\n   */\n  rotateUp(radian: number) {\n    this._sphericalDelta.phi -= radian;\n    if (this.enableDamping) {\n      this._sphericalDump.phi = -radian;\n    }\n  }\n\n  /**\n   * Pan left.\n   */\n  panLeft(distance: number, worldMatrix: Matrix) {\n    const e = worldMatrix.elements;\n    this._vPan.setValue(e[0], e[1], e[2]);\n    this._vPan.scale(distance);\n    this._panOffset.add(this._vPan);\n  }\n\n  /**\n   * Pan right.\n   */\n  panUp(distance: number, worldMatrix: Matrix) {\n    const e = worldMatrix.elements;\n    this._vPan.setValue(e[4], e[5], e[6]);\n    this._vPan.scale(distance);\n    this._panOffset.add(this._vPan);\n  }\n\n  /**\n   * Pan.\n   * @param deltaX - The amount of translation from the screen distance in the x direction\n   * @param deltaY - The amount of translation from the screen distance in the y direction\n   */\n  pan(deltaX: number, deltaY: number) {\n    const element = this.domElement === document ? this.domElement.body : (this.domElement as HTMLElement);\n\n    // perspective only\n    const position: Vector3 = this.camera.position;\n    position.cloneTo(this._vPan);\n    this._vPan.subtract(this.target);\n    let targetDistance = this._vPan.length();\n\n    targetDistance *= (this.fov / 2) * (Math.PI / 180);\n\n    this.panLeft(-2 * deltaX * (targetDistance / element.clientHeight), this.camera.transform.worldMatrix);\n    this.panUp(2 * deltaY * (targetDistance / element.clientHeight), this.camera.transform.worldMatrix);\n  }\n\n  /**\n   * Zoom in.\n   */\n  zoomIn(zoomScale: number): void {\n    // perspective only\n    this._scale *= zoomScale;\n  }\n\n  /**\n   * Zoom out.\n   */\n  zoomOut(zoomScale: number): void {\n    // perspective only\n    this._scale /= zoomScale;\n  }\n\n  /**\n   * Rotation parameter update on mouse click.\n   */\n  handleMouseDownRotate(event) {\n    this._rotateStart.setValue(event.clientX, event.clientY);\n  }\n\n  /**\n   * Zoom parameter update on mouse click.\n   */\n  handleMouseDownZoom(event) {\n    this._zoomStart.setValue(event.clientX, event.clientY);\n  }\n\n  /**\n   * Pan parameter update on mouse click.\n   */\n  handleMouseDownPan(event) {\n    this._panStart.setValue(event.clientX, event.clientY);\n  }\n\n  /**\n   * Rotation parameter update when the mouse moves.\n   */\n  handleMouseMoveRotate(event) {\n    this._rotateEnd.setValue(event.clientX, event.clientY);\n    Vector2.subtract(this._rotateEnd, this._rotateStart, this._rotateDelta);\n\n    const element = this.domElement === document ? document.body : (this.domElement as HTMLElement);\n\n    this.rotateLeft(2 * Math.PI * (this._rotateDelta.x / element.clientWidth) * this.rotateSpeed);\n    this.rotateUp(2 * Math.PI * (this._rotateDelta.y / element.clientHeight) * this.rotateSpeed);\n\n    this._rotateEnd.cloneTo(this._rotateStart);\n  }\n\n  /**\n   * Zoom parameters update when the mouse moves.\n   */\n  handleMouseMoveZoom(event) {\n    this._zoomEnd.setValue(event.clientX, event.clientY);\n    Vector2.subtract(this._zoomEnd, this._zoomStart, this._zoomDelta);\n\n    if (this._zoomDelta.y > 0) {\n      this.zoomOut(this.getZoomScale());\n    } else if (this._zoomDelta.y < 0) {\n      this.zoomIn(this.getZoomScale());\n    }\n\n    this._zoomEnd.cloneTo(this._zoomStart);\n  }\n\n  /**\n   * Pan parameters update when the mouse moves.\n   */\n  handleMouseMovePan(event: MouseEvent): void {\n    this._panEnd.setValue(event.clientX, event.clientY);\n    Vector2.subtract(this._panEnd, this._panStart, this._panDelta);\n\n    this.pan(this._panDelta.x, this._panDelta.y);\n\n    this._panEnd.cloneTo(this._panStart);\n  }\n\n  /**\n   * Zoom parameter update when the mouse wheel is scrolled.\n   */\n  handleMouseWheel(event: MouseWheelEvent): void {\n    if (event.deltaY < 0) {\n      this.zoomIn(this.getZoomScale());\n    } else if (event.deltaY > 0) {\n      this.zoomOut(this.getZoomScale());\n    }\n  }\n\n  /**\n   * Pan parameter update when keyboard is pressed.\n   */\n  handleKeyDown(event: KeyboardEvent) {\n    switch (event.keyCode) {\n      case this.keys.UP:\n        this.pan(0, this.keyPanSpeed);\n        break;\n      case this.keys.BOTTOM:\n        this.pan(0, -this.keyPanSpeed);\n        break;\n      case this.keys.LEFT:\n        this.pan(this.keyPanSpeed, 0);\n        break;\n      case this.keys.RIGHT:\n        this.pan(-this.keyPanSpeed, 0);\n        break;\n    }\n  }\n\n  /**\n   * Rotation parameter update when touch is dropped.\n   */\n  handleTouchStartRotate(event: TouchEvent) {\n    this._rotateStart.setValue(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  /**\n   * Zoom parameter update when touch down.\n   */\n  handleTouchStartZoom(event: TouchEvent) {\n    const dx = event.touches[0].pageX - event.touches[1].pageX;\n    const dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    const distance = Math.sqrt(dx * dx + dy * dy);\n\n    this._zoomStart.setValue(0, distance);\n  }\n\n  /**\n   * Update the translation parameter when touch down.\n   */\n  handleTouchStartPan(event: TouchEvent) {\n    this._panStart.setValue(event.touches[0].pageX, event.touches[0].pageY);\n  }\n\n  /**\n   * Rotation parameter update when touch to move.\n   */\n  handleTouchMoveRotate(event: TouchEvent) {\n    this._rotateEnd.setValue(event.touches[0].pageX, event.touches[0].pageY);\n    Vector2.subtract(this._rotateEnd, this._rotateStart, this._rotateDelta);\n\n    const element = this.domElement === document ? this.domElement.body : (this.domElement as HTMLElement);\n\n    this.rotateLeft(((2 * Math.PI * this._rotateDelta.x) / element.clientWidth) * this.rotateSpeed);\n    this.rotateUp(((2 * Math.PI * this._rotateDelta.y) / element.clientHeight) * this.rotateSpeed);\n\n    this._rotateEnd.cloneTo(this._rotateStart);\n  }\n\n  /**\n   * Zoom parameter update when touch to move.\n   */\n  handleTouchMoveZoom(event) {\n    const dx = event.touches[0].pageX - event.touches[1].pageX;\n    const dy = event.touches[0].pageY - event.touches[1].pageY;\n\n    const distance = Math.sqrt(dx * dx + dy * dy);\n\n    this._zoomEnd.setValue(0, distance);\n\n    Vector2.subtract(this._zoomEnd, this._zoomStart, this._zoomDelta);\n\n    if (this._zoomDelta.y > 0) {\n      this.zoomIn(this.getZoomScale());\n    } else if (this._zoomDelta.y < 0) {\n      this.zoomOut(this.getZoomScale());\n    }\n\n    this._zoomEnd.cloneTo(this._zoomStart);\n  }\n\n  /**\n   * Pan parameter update when touch moves.\n   */\n  handleTouchMovePan(event: TouchEvent) {\n    this._panEnd.setValue(event.touches[0].pageX, event.touches[0].pageY);\n\n    Vector2.subtract(this._panEnd, this._panStart, this._panDelta);\n\n    this.pan(this._panDelta.x, this._panDelta.y);\n\n    this._panEnd.cloneTo(this._panStart);\n  }\n\n  /**\n   * Total handling of mouse down events.\n   */\n  onMouseDown(event: MouseEvent) {\n    if (this.enabled === false) return;\n\n    event.preventDefault();\n\n    this._isMouseUp = false;\n\n    switch (event.button) {\n      case this.mouseButtons.ORBIT:\n        if (this.enableRotate === false) return;\n\n        this.handleMouseDownRotate(event);\n        this._state = this.STATE.ROTATE;\n        break;\n\n      case this.mouseButtons.ZOOM:\n        if (this.enableZoom === false) return;\n\n        this.handleMouseDownZoom(event);\n        this._state = this.STATE.ZOOM;\n        break;\n\n      case this.mouseButtons.PAN:\n        if (this.enablePan === false) return;\n\n        this.handleMouseDownPan(event);\n        this._state = this.STATE.PAN;\n        break;\n    }\n\n    if (this._state !== this.STATE.NONE) {\n      const element = this.domElement === document ? this.domElement.body : this.domElement;\n      this.mainElement.addEventListener(this.mouseUpEvents[0].type, this.mouseUpEvents[0].listener, false);\n      element.addEventListener(this.mouseUpEvents[1].type, this.mouseUpEvents[1].listener, false);\n    }\n  }\n\n  /**\n   * Total handling of mouse movement events.\n   */\n  onMouseMove(event: MouseEvent) {\n    if (this.enabled === false) return;\n\n    event.preventDefault();\n\n    switch (this._state) {\n      case this.STATE.ROTATE:\n        if (this.enableRotate === false) return;\n\n        this.handleMouseMoveRotate(event);\n        break;\n\n      case this.STATE.ZOOM:\n        if (this.enableZoom === false) return;\n\n        this.handleMouseMoveZoom(event);\n        break;\n\n      case this.STATE.PAN:\n        if (this.enablePan === false) return;\n\n        this.handleMouseMovePan(event);\n        break;\n    }\n  }\n\n  /**\n   * Total handling of mouse up events.\n   */\n  onMouseUp() {\n    if (this.enabled === false) return;\n\n    this._isMouseUp = true;\n\n    this.mouseUpEvents.forEach((ele) => {\n      const element = this.domElement === document ? this.domElement.body : this.domElement;\n      element.removeEventListener(ele.type, ele.listener, false);\n      this.mainElement.removeEventListener(ele.type, ele.listener, false);\n    });\n\n    this._state = this.STATE.NONE;\n  }\n\n  /**\n   * Total handling of mouse wheel events.\n   */\n  onMouseWheel(event: MouseWheelEvent) {\n    if (\n      this.enabled === false ||\n      this.enableZoom === false ||\n      (this._state !== this.STATE.NONE && this._state !== this.STATE.ROTATE)\n    )\n      return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    this.handleMouseWheel(event);\n  }\n\n  /**\n   * Total handling of keyboard down events.\n   */\n  onKeyDown(event: KeyboardEvent) {\n    if (this.enabled === false || this.enableKeys === false || this.enablePan === false) return;\n\n    this.handleKeyDown(event);\n  }\n\n  /**\n   * Total handling of touch start events.\n   */\n  onTouchStart(event: TouchEvent) {\n    if (this.enabled === false) return;\n\n    this._isMouseUp = false;\n\n    switch (event.touches.length) {\n      case this.touchFingers.ORBIT:\n        if (this.enableRotate === false) return;\n\n        this.handleTouchStartRotate(event);\n        this._state = this.STATE.TOUCH_ROTATE;\n\n        break;\n\n      case this.touchFingers.ZOOM:\n        if (this.enableZoom === false) return;\n\n        this.handleTouchStartZoom(event);\n        this._state = this.STATE.TOUCH_ZOOM;\n\n        break;\n\n      case this.touchFingers.PAN:\n        if (this.enablePan === false) return;\n\n        this.handleTouchStartPan(event);\n        this._state = this.STATE.TOUCH_PAN;\n\n        break;\n\n      default:\n        this._state = this.STATE.NONE;\n    }\n  }\n\n  /**\n   * Total handling of touch movement events.\n   */\n  onTouchMove(event: TouchEvent) {\n    if (this.enabled === false) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case this.touchFingers.ORBIT:\n        if (this.enableRotate === false) return;\n        if (this._state !== this.STATE.TOUCH_ROTATE) return;\n        this.handleTouchMoveRotate(event);\n\n        break;\n\n      case this.touchFingers.ZOOM:\n        if (this.enableZoom === false) return;\n        if (this._state !== this.STATE.TOUCH_ZOOM) return;\n        this.handleTouchMoveZoom(event);\n\n        break;\n\n      case this.touchFingers.PAN:\n        if (this.enablePan === false) return;\n        if (this._state !== this.STATE.TOUCH_PAN) return;\n        this.handleTouchMovePan(event);\n\n        break;\n\n      default:\n        this._state = this.STATE.NONE;\n    }\n  }\n\n  /**\n   * Total handling of touch end events.\n   */\n  onTouchEnd() {\n    if (this.enabled === false) return;\n\n    this._isMouseUp = true;\n    this._state = this.STATE.NONE;\n  }\n\n  /**\n   * Context event hiding.\n   */\n  onContextMenu(event) {\n    if (this.enabled === false) return;\n    event.preventDefault();\n  }\n}\n","import { Camera, Entity, Logger, Script, Vector2, Vector3 } from \"oasis-engine\";\n\n/**\n * The camera's 2D controller, can zoom and pan.\n */\nexport class OrthoControl extends Script {\n  cameraEntity: Entity;\n  camera: Camera;\n\n  private _zoomSpeed: number = 1.0;\n  private _zoomScale: number = 1.0;\n  private _zoomScaleUnit: number = 25.0;\n  private _zoomMinSize: number = 0.0;\n  private _zoomMaxSize: number = Infinity;\n  private _isPanStart: boolean = false;\n  private _panStartPos: Vector3 = new Vector3();\n  private _panStart: Vector2 = new Vector2();\n  private _panEnd: Vector2 = new Vector2();\n  private _panDelta: Vector2 = new Vector2();\n\n  /**\n   * The zoom speed.\n   */\n  get zoomSpeed(): number {\n    return this._zoomSpeed;\n  }\n\n  set zoomSpeed(value: number) {\n    this._zoomSpeed = value;\n  }\n\n  constructor(entity: Entity) {\n    super(entity);\n\n    this.cameraEntity = entity;\n    this.camera = entity.getComponent(Camera);\n  }\n\n  onUpdate(dt: number): void {\n    if (this._zoomScale !== 1) {\n      const { camera } = this;\n      const sizeDiff = this._zoomScaleUnit * (this._zoomScale - 1);\n      const size = camera.orthographicSize + sizeDiff;\n      camera.orthographicSize = Math.max(this._zoomMinSize, Math.min(this._zoomMaxSize, size));\n      this._zoomScale = 1;\n    }\n\n    if (this._isPanStart) {\n      const { _panStart: panStart, _panEnd: panEnd } = this;\n      const panDelta = this._panDelta;\n      Vector2.subtract(panEnd, panStart, panDelta);\n      if (panDelta.x === 0 && panDelta.y === 0) {\n        return;\n      }\n      this._handlePan();\n      panEnd.cloneTo(panStart);\n    }\n  }\n\n  /**\n   * Zoom in.\n   */\n  zoomIn(): void {\n    if (!this.enabled) return;\n    this._zoomScale *= this._getZoomScale();\n  }\n\n  /**\n   * Zoom out.\n   */\n  zoomOut(): void {\n    if (!this.enabled) return;\n    this._zoomScale /= this._getZoomScale();\n  }\n\n  /**\n   * Start pan.\n   * @param x - The x-axis coordinate (unit: pixel)\n   * @param y - The y-axis coordinate (unit: pixel)\n   */\n  panStart(x: number, y: number): void {\n    if (!this.enabled) return;\n\n    this.cameraEntity.transform.position.cloneTo(this._panStartPos);\n    this._panStart.setValue(x, y);\n    this._panEnd.setValue(x, y);\n    this._isPanStart = true;\n  }\n\n  /**\n   * Panning.\n   * @param x - The x-axis coordinate (unit: pixel)\n   * @param y - The y-axis coordinate (unit: pixel)\n   *\n   * @remarks Make sure to call panStart before calling panMove.\n   */\n  panMove(x: number, y: number): void {\n    if (!this.enabled) return;\n    if (!this._isPanStart) {\n      Logger.warn(\"Make sure to call panStart before calling panMove\");\n    }\n    this._panEnd.setValue(x, y);\n  }\n\n  /**\n   * End pan.\n   */\n  panEnd(): void {\n    if (!this.enabled) return;\n    this._isPanStart = false;\n  }\n\n  private _getZoomScale(): number {\n    return Math.pow(0.95, this.zoomSpeed);\n  }\n\n  private _handlePan(): void {\n    const { width, height } = this.engine.canvas;\n    const { x, y } = this._panDelta;\n    const { camera } = this;\n    const doubleOrthographicSize = camera.orthographicSize * 2;\n    const width3D = doubleOrthographicSize * camera.aspectRatio;\n    const height3D = doubleOrthographicSize;\n    const pos = this._panStartPos;\n    pos.x -= (x * width3D) / width;\n    pos.y += (y * height3D) / height;\n    this.cameraEntity.transform.position = pos;\n  }\n}\n"],"names":["ESP","MathUtil","zeroTolerance","Spherical","radius","phi","theta","undefined","set","makeSafe","clamp","Math","PI","setFromVec3","v3","length","atan2","x","z","acos","y","setToVec3","sinPhiRadius","sin","cos","includes","array","filterArray","some","e","indexOf","FreeControl","entity","_forward","Vector3","_right","camera","mainElement","domElement","movementSpeed","rotateSpeed","floorMock","floorY","press","keysForward","keysBackward","keysLeft","keysRight","_theta","_phi","_moveForward","_moveBackward","_moveLeft","_moveRight","_v3Cache","_spherical","_rotateOri","_events","scene","engine","canvas","_webCanvas","document","type","listener","onMouseMove","bind","onMouseDown","onMouseUp","onKeyDown","element","window","onKeyUp","onContextMenu","initEvents","updateSpherical","event","preventDefault","code","key","keyCode","stopPropagation","changedTouches","focus","clientX","clientY","enabled","movementX","movementY","factorX","width","factorY","height","actualX","actualY","rotate","alpha","beta","degreeToRadian","add","transform","position","lookAt","onUpdate","delta","actualMoveSpeed","getWorldForward","getWorldRight","translate","scale","setPosition","forEach","ele","addEventListener","onDestroy","removeEventListener","setValue","transformByQuat","rotation","Script","OrbitControl","fov","target","up","minDistance","maxDistance","minZoom","maxZoom","enableDamping","zoomFactor","enableRotate","keyPanSpeed","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableZoom","dampingFactor","zoomSpeed","enablePan","autoRotate","autoRotateSpeed","enableKeys","keys","mouseButtons","touchFingers","STATE","mouseUpEvents","constEvents","_position","_offset","_sphericalDelta","_sphericalDump","_zoomFrag","_scale","_panOffset","_isMouseUp","_vPan","_state","_rotateStart","_rotateEnd","_rotateDelta","_panStart","_panEnd","_panDelta","_zoomStart","_zoomEnd","_zoomDelta","Infinity","LEFT","UP","RIGHT","BOTTOM","ORBIT","ZOOM","PAN","Vector2","NONE","ROTATE","TOUCH_ROTATE","TOUCH_ZOOM","TOUCH_PAN","onMouseWheel","onTouchStart","onTouchMove","onTouchEnd","onDisable","body","dtime","cloneTo","subtract","rotateLeft","getAutoRotationAngle","max","min","getZoomScale","pow","radian","rotateUp","panLeft","distance","worldMatrix","elements","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","zoomIn","zoomScale","zoomOut","handleMouseDownRotate","handleMouseDownZoom","handleMouseDownPan","handleMouseMoveRotate","clientWidth","handleMouseMoveZoom","handleMouseMovePan","handleMouseWheel","handleKeyDown","handleTouchStartRotate","touches","pageX","pageY","handleTouchStartZoom","dx","dy","sqrt","handleTouchStartPan","handleTouchMoveRotate","handleTouchMoveZoom","handleTouchMovePan","button","OrthoControl","cameraEntity","_zoomSpeed","_zoomScale","_zoomScaleUnit","_zoomMinSize","_zoomMaxSize","_isPanStart","_panStartPos","getComponent","Camera","dt","sizeDiff","size","orthographicSize","panStart","panEnd","panDelta","_handlePan","_getZoomScale","panMove","Logger","warn","doubleOrthographicSize","width3D","aspectRatio","height3D","pos","value"],"mappings":"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"}